import { Meta, Canvas, Source } from '@storybook/blocks';
import * as SpinnerStories from './Spinner.stories';
import SpinnerSource from './Spinner.svelte?raw';

<Meta title="Components Code/G-Spinner/Code Implementation" />

# Spinner Component Implementation

This document outlines the code implementation details of the Spinner component.

## Component Sections

A Svelte component consists of three main sections: Script (JavaScript), Template (HTML), and Style (CSS).

## 1. Script (JavaScript)

{/* Extraer y mostrar solo la parte de script */}
<Source
  language="javascript"
  code={SpinnerSource.match(/<script>([\s\S]*?)<\/script>/)?.[1] || '// No script section found'}
  dark
  format={true}
  highlighter="prismjs"
/>

## 2. Template (HTML)

{/* Extraer y mostrar solo la parte de template (todo lo que est√° fuera de <script> y <style>) */}
<Source
  language="html"
  code={SpinnerSource.replace(/<script>[\s\S]*?<\/script>/, '').replace(/<style>[\s\S]*?<\/style>/, '').trim()}
  dark
  format={true}
  highlighter="prismjs"
/>

## 3. Style (CSS)

{/* Extraer y mostrar solo la parte de style */}
<Source
  language="css"
  code={SpinnerSource.match(/<style>([\s\S]*?)<\/style>/)?.[1] || '/* No style section found */'}
  dark
  format={true}
  highlighter="prismjs"
/>

## Key Implementation Notes

### Props Handling

The component uses Svelte 5's `$props()` rune to handle properties:

<Source
  language="javascript"
  code={SpinnerSource.match(/let\s*\{\s*([^}]*?)\s*\}\s*=\s*\$props\(\);/s)?.[1] ? 
    `const { 
${SpinnerSource.match(/let\s*\{\s*([^}]*?)\s*\}\s*=\s*\$props\(\);/s)[1]}
} = $props();` : 
    `const { 
  // No props found in component
} = $props();`}
  dark
/>